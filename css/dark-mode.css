/* Auto dark mode based on system preference */
@media (prefers-color-scheme: dark) {
    :root {
        --background-color: #121212;
        --text-color: #e0e0e0;
        --card-bg: #1e1e1e;
        --header-bg: #0f0f0f;
        --footer-bg: #0f0f0f;
        --secondary-color: #2a2a2a;
        --watched-color: rgba(46, 204, 113, 0.5);
    }

    .anime-card {
        border: 1px solid #333;
    }

    .anime-meta {
        color: #aaa;
    }

    .modal-content {
        border: 1px solid #333;
    }

    .search-bar input {
        background-color: #333;
        color: white;
    }

    .search-bar input::placeholder {
        color: #aaa;
    }

    .category-tab {
        background-color: #333;
        color: #ddd;
    }

    .category-tab:hover {
        background-color: #444;
    }

    .category-tab.active {
        background-color: var(--primary-color);
        color: white;
    }

    .episode-selector select {
        background-color: #333;
        color: white;
        border-color: #444;
    }

    option.watched {
        color: #1dd1a1;
    }

    .profile-form input, .profile-form select {
        background-color: #333;
        color: white;
        border-color: #444;
    }

    .pronoun-btn {
        background-color: #444;
        color: #ddd;
    }

    .pronoun-btn:hover, .pronoun-btn.active {
        background-color: var(--primary-color);
        color: white;
    }
}

/* Manual dark mode when user toggles */
body.dark-mode {
    --background-color: #121212;
    --text-color: #e0e0e0;
    --card-bg: #1e1e1e;
    --header-bg: #0f0f0f;
    --footer-bg: #0f0f0f;
    --secondary-color: #2a2a2a;
    --watched-color: rgba(46, 204, 113, 0.5);
}

body.dark-mode .anime-card {
    border: 1px solid #333;
}

body.dark-mode .anime-meta {
    color: #aaa;
}

body.dark-mode .modal-content {
    border: 1px solid #333;
}

body.dark-mode .search-bar input {
    background-color: #333;
    color: white;
}

body.dark-mode .search-bar input::placeholder {
    color: #aaa;
}

body.dark-mode .category-tab {
    background-color: #333;
    color: #ddd;
}

body.dark-mode .category-tab:hover {
    background-color: #444;
}

body.dark-mode .category-tab.active {
    background-color: var(--primary-color);
    color: white;
}

body.dark-mode .episode-selector select {
    background-color: #333;
    color: white;
    border-color: #444;
}

body.dark-mode option.watched {
    color: #1dd1a1;
}

body.dark-mode .profile-form input, body.dark-mode .profile-form select {
    background-color: #333;
    color: white;
    border-color: #444;
}

body.dark-mode .pronoun-btn {
    background-color: #444;
    color: #ddd;
}

body.dark-mode .pronoun-btn:hover, body.dark-mode .pronoun-btn.active {
    background-color: var(--primary-color);
    color: white;
}

/* Additional dark mode text fixes */
body.dark-mode {
    background-color: #0f0f1e;
    color: #e1e8ed;
}

body.dark-mode .section-title,
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3,
body.dark-mode p,
body.dark-mode label,
body.dark-mode .anime-title,
body.dark-mode .track-title,
body.dark-mode .track-artist {
    color: #e1e8ed !important;
}

body.dark-mode .anime-card {
    background-color: #1a1f29;
    color: #e1e8ed;
}

body.dark-mode .music-track-card {
    background-color: #1a1f29;
}

body.dark-mode .track-count {
    color: #8899a6 !important;
}

body.dark-mode input,
body.dark-mode textarea,
body.dark-mode select {
    background-color: #1a1f29;
    color: #e1e8ed;
    border-color: #2f3336;
}

body.dark-mode .modal-content {
    background-color: #1a1a2e !important;
    color: #e1e8ed !important;
}

/* Fix music section titles in dark mode */
body.dark-mode .music-section-header h3 {
    color: var(--primary-color) !important;
}

body.dark-mode .anime-cover-small {
    border: 1px solid rgba(255,255,255,0.1);
}

/* Títulos de seções de música BRANCOS no dark mode */
body.dark-mode .music-section-header h3 {
    color: #ffffff !important;
}

body.dark-mode .music-anime-section {
    border-bottom: 1px solid rgba(255,255,255,0.1);
    padding-bottom: 20px;
}

body.dark-mode .music-anime-title {
    color: #ffffff !important;
}

body.dark-mode .music-section h2,
body.dark-mode .music-section h3 {
    color: #ffffff !important;
}

/* Additional music section dark mode fixes */
body.dark-mode .music-section {
    color: #e0e0e0;
}

body.dark-mode .music-tracks {
    color: #e0e0e0;
}

body.dark-mode .music-card .music-title {
    color: #ffffff !important;
}

body.dark-mode .music-card .music-artist {
    color: #b0b0b0 !important;
}

body.dark-mode .music-card .music-type {
    color: #909090 !important;
}

/* Ensure all music text elements are white in dark mode */
body.dark-mode .music-info .music-title,
body.dark-mode .music-info .music-artist,
body.dark-mode .music-info .music-anime,
body.dark-mode .music-section .music-title,
body.dark-mode .music-section .music-artist,
body.dark-mode .music-section .music-type {
    color: #ffffff !important;
}

body.dark-mode .music-section .music-artist {
    color: #b0b0b0 !important;
}

body.dark-mode .music-section .music-type {
    color: var(--primary-color) !important;
}
